<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rádios - Canais TV PT</title>
    <link rel="stylesheet" href="style.css">
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
    <link href="https://vjs.zencdn.net/7.20.3/video-js.css" rel="stylesheet" />
    <script defer src="https://vjs.zencdn.net/7.20.3/video.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
    <script src="script.js" defer></script>
</head>

<header>
  <div style="text-align: center;">
    <img src="logo.png" height="150" alt="Image">
  </div>
  <nav>   
      <ul>
        <li><a href="index.html">Home</a></li>
        <li><a href="desporto.html">Desporto</a></li>
        <li><a href="noticias.html">Notícias</a></li>
        <li><a href="secundarios.html">Secun-<br>dários</a></li>
        <li><a href="internacionais.html">Internacionais</a></li>
        <li><a href="fildocnov.html">Filmes/
          <br>Doc./Nov.</a></li>
        <li><a href="banda_d.html">Desenhos<br>Anim.</a></li>
        <li><a href="radios.html">Rádios (Atual)</a></li>
        <li><a href="aleatorio.html">Aleatório</a></li>
        <li><a href="gaming.html">Gaming</a></li>
        <li><a href="sobre.html">Sobre</a></li>
      </ul>
  </nav>
</header>
<body><br>
  <label class="selecionarRadio" for="radioSelect">Escolhe a Rádio:</label>
  <select id="radioSelect">
   <option value="">Nenhuma</option> 
    <option value="https://stream-icy.bauermedia.pt/comercial.aac">Rádio Comercial</option>
    <option value="https://playerservices.streamtheworld.com/api/livestream-redirect/RFM_SC">RFM</option>
    <option value="http://famaradio.mywire.org:8000/digitalfm64">Fama Rádio</option>
    <option value="https://radios.justweb.pt/8042/stream">Rádio 5</option>
    <option value="https://playerservices.streamtheworld.com/api/livestream-redirect/OBSERVADORAAC.aac?dist=web-popup&devicename=aac">Observador</option>
    <option value="http://tsfdirecto.tsf.pt/tsfdirecto.mp3#">TSF</option>
    <option value="https://playerservices.streamtheworld.com/api/livestream-redirect/RADIO_RENASCENCAAAC.aac">Rádio Renascença</option>
    <option value="https://emdireto.cmradio.pt/audio2/output-stream_1.m3u8">CMRádio</option>
    <option value="https://stream-icy.bauermedia.pt/m80.aac">M80</option>
    <option value="https://streaming-live.rtp.pt/liveradio/zigzag80a/playlist.m3u8?DVR">Rádio ZigZag</option>
    <option value="https://radios.justweb.pt/8024/stream">Rádio Voz Santo Tirso</option>
    <option value="https://22353.live.streamtheworld.com/MEGA_HITS_SC">MegaHits</option>
    <option value="https://centova.radio.com.pt/proxy/524?mp=/stream">Onda Viva</option>    <option value="https://streaming-live.rtp.pt/liveradio/antena180a/playlist.m3u8?DVR">Antena 1</option>
    <option value="http://centova.radios.pt:9478/stream/1/">Nova Era</option>
    <option value="http://centova.radio.com.pt:8495/stream/1/">Rádio Sudoeste</option>
    <option value="https://centova.radios.pt/proxy/401?mp=/stream/">Orbital</option>
    <option value="https://centova.radio.com.pt/proxy/500?mp=/stream">HiperFM</option>
    <option value="https://radios2.justweb.pt/8080/stream">Linear</option>
    <option value="https://streaming-live.rtp.pt/liveradio/antena280a/playlist.m3u8?DVR">Antena 2</option>
    <option value="https://streaming-live.rtp.pt/liveradio/antena380a/playlist.m3u8?DVR">Antena 3</option>
    <option value="https://streaming-live.rtp.pt/liveradio/rdpint80a/playlist.m3u8?DVR">RDP Internacional</option>
    <option value="https://streaming-live.rtp.pt/liveradio/rdpafrica80a/playlist.m3u8?DVR">RDP África</option>
    <option value="https://streaming-live.rtp.pt/liveradio/antena1acores80a/playlist.m3u8?DVR">RDP Açores</option>
    <option value="https://streaming-live.rtp.pt/liveradio/antena1madeira80a/playlist.m3u8?DVR">RDP Madeira</option>
    <option value="https://proic1.evspt.com/oxigenio_aac">Oxigénio</option>
    <option value="https://proic1.evspt.com/radar_aac">Radar</option>
    <option value="https://stream-hls.bauermedia.pt/smooth.aac/playlist.m3u8">Smooth FM</option>
    <option value="https://play.radioregional.pt:8210/stream/2/;/stream.mp3">SuperFM</option>
    <option value="https://stream-hls.bauermedia.pt/batidafm.aac/playlist.m3u8">batida.fm</option>
    <option value="https://centova.radios.pt/proxy/522?mp=/stream/1/">Nove3Cinco</option>
    <option value="https://stream-icy.bauermedia.pt/cidade.aac">Cidade FM</option>
    <option value="https://stream-hls.bauermedia.pt/cidhiphop.aac/playlist.m3u8">Cidade Hip Hop</option>
    <option value="http://centova.radio.com.pt:8119/;">Cidade Hoje</option>
    <option value="https://tugafm.stream.laut.fm/tugafm">Tuga FM</option>
    <option value="https://live.truckers.fm/">Truckers FM</option>
  </select>
  <br><br>
  <!-- Player de áudio -->
  <video id="audioPlayer" width="500" height="50" style="display: none;"></video>
  <div class="controls">
    <button id="stopContinueButton" class="stop">Parar</button>
    <label class="volumeslider" for="volumeControl">Volume:</label>
    <input type="range" id="volumeControl" min="0" max="1" step="0.0001" value="1">
  </div>
  <br><br><nav id="nav_escolha">
    <a id="escolha_canal" href="#home" onclick="changeChannel('escolha_not/escolha.mp4', 'escolha_not/escolha.png'); return false;">Home</a>
    <a id="escolha_canal" href="#traceurban" onclick="changeChannel('https://cdn-uw2-prod.tsv2.amagi.tv/linear/amg00398-zeasneuropebv-traceurban-zeasn/playlist.m3u8', 'https://raw.githubusercontent.com/thomraider12/icones_tv/main/traceurban.png'); return false;">Trace Urban<sup>HD</sup></a>
    <a id="escolha_canal" href="#tracetoca" onclick="changeChannel('https://cdn-uw2-prod.tsv2.amagi.tv/linear/tracetvAA-trace-latina-lg-es/playlist.m3u8', 'https://raw.githubusercontent.com/thomraider12/icones_tv/main/tracetoca.png'); return false;">Trace Toca<sup>HD</sup></a>
    <a id="escolha_canal" href="#tracebrasil" onclick="changeChannel('https://cdn-uw2-prod.tsv2.amagi.tv/linear/amg01131-tracetv-tracebrazuca-xiaomi/playlist.m3u8', 'https://raw.githubusercontent.com/thomraider12/icones_tv/main/tracebrasil.png'); return false;">Trace Brasil<sup>HD</sup></a>
    <a id="escolha_canal" href="#traceuk" onclick="changeChannel('https://epg.provider.plex.tv/library/parts/608049aefa2b8ae93c2c3a63-66be8cd4871131188099527e.m3u8?X-Plex-Token=7_DZgexHgAKDxgwFUesV', 'https://raw.githubusercontent.com/thomraider12/icones_tv/main/traceuk.png'); return false;">Trace UK<sup>HD</sup></a>
    <a id="escolha_canal" href="#clubbingtv" onclick="changeChannel('https://clubbingtv-rakuten.amagi.tv/playlist.m3u8', 'https://raw.githubusercontent.com/thomraider12/icones_tv/main/clubbingtv.png'); return false;">ClubbingTV<sup>HD</sup></a>
    <a id="escolha_canal" href="#vevo" onclick="changeChannel('https://cdn-uw2-prod.tsv2.amagi.tv/linear/amg00056-vevotv-vevopopau-samsungau/playlist.m3u8', 'https://raw.githubusercontent.com/thomraider12/icones_tv/main/vevo.png'); return false;">VEVO<sup>HD</sup></a>
    <a id="escolha_canal" href="#onfm" onclick="changeChannel('https://5ce9406b73c33.streamlock.net/ONFM/livestream/playlist.m3u8', 'https://raw.githubusercontent.com/thomraider12/icones_tv/main/onfm.png'); return false;">OnFM<sup>HD</sup></a>
</nav>

<video
    id="escolha_player"
    class="video-js"
    controls
    preload="auto"
    width="900"
    height="500"
    poster="escolha_not/escolha.png"
    data-setup="{}"
>
    <source
        id="video_source"
        src="escolha_not/escolha.mp4"
        type="video/mp4"
    />
</video>
    <br>
    <br><script>
      const radioSelect = document.getElementById('radioSelect');
      const audio = document.getElementById('audioPlayer');
      const stopContinueButton = document.getElementById('stopContinueButton');
      const volumeControl = document.getElementById('volumeControl');
      let hls;
      let isPlaying = false;
    
      function loadRadioStream(streamUrl) {
        if (hls) {
          hls.destroy();
        }
        if (streamUrl.endsWith('.m3u8') && Hls.isSupported()) {
          hls = new Hls();
          hls.loadSource(streamUrl);
          hls.attachMedia(audio);
          hls.on(Hls.Events.MANIFEST_PARSED, function () {
            // Não chama play() aqui, pois queremos que não toque ao carregar
            // Apenas setamos a propriedade para "isPlaying" depois que o play for acionado
          });
        } else {
          audio.src = streamUrl;
        }
      }
    
      function updateButton() {
        if (isPlaying) {
          stopContinueButton.textContent = "Parar";
          stopContinueButton.classList.remove("continue");
          stopContinueButton.classList.add("stop");
        } else if (!isPlaying) {
          stopContinueButton.textContent = "Continuar";
          stopContinueButton.classList.remove("stop");
          stopContinueButton.classList.add("continue");
        }
      }
    
      stopContinueButton.addEventListener('click', function () {
        if (isPlaying) {
          audio.pause();
        } else {
          audio.play();
        }
        isPlaying = !isPlaying;
        updateButton();
      });
    
      volumeControl.addEventListener('input', function () {
        audio.volume = volumeControl.value;
      });
    
      radioSelect.addEventListener('change', function () {
        loadRadioStream(radioSelect.value);
      });
    
      // Atrasar a chamada de play() até o primeiro clique no botão
      audio.addEventListener('play', function () {
        isPlaying = true;
        updateButton();
      });
    
      loadRadioStream(radioSelect.value);
    

      document.addEventListener('DOMContentLoaded', function () {
        var player = videojs('escolha_player');
        
            window.changeChannel = function(url, poster) {
                player.poster(poster);
                player.src({ src: url, type: url.endsWith('.m3u8') ? 'application/x-mpegURL' : 'video/mp4' });

                // Adiciona um atraso de 500ms antes de reproduzir o vídeo
                setTimeout(function() {
                    player.play();
                }, 500);
            };
        });
    </script>  <br>
  <br>
  <footer>Feito por Tomás Afonso. 2025 &copy;</footer>    
</body>
</html>
